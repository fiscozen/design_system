import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Documentation/Layout/FzContainer" />

# @fiscozen/container

A flexible layout component for organizing content with controlled spacing. Supports both vertical and horizontal orientations with customizable gap sizes.

## Features

- Vertical and horizontal layout orientations
- Layout variants for horizontal containers (expand-first, with more coming)
- Customizable gap sizes (sm, base, lg)
- Main and section container variants with different spacing scales
- Special paragraph spacing for improved typography
- Flexible HTML tag rendering

## Installation

```bash
npm install @fiscozen/container
```

## Basic Usage

### Vertical Layout (Default)

The default orientation stacks elements vertically with controlled spacing between them.

```vue
<script setup>
import { FzContainer } from '@fiscozen/container'
</script>

<template>
  <FzContainer main>
    <FzContainer>
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
    </FzContainer>

    <FzContainer>
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
    </FzContainer>
  </FzContainer>
</template>
```

### Horizontal Layout

Elements align horizontally in a single row with vertical centering.

```vue
<template>
  <FzContainer horizontal>
    <button>Action 1</button>
    <button>Action 2</button>
    <button>Action 3</button>
  </FzContainer>
</template>
```

## Props

<table>
  <thead>
    <tr>
      <th>Prop</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>main</code></td>
      <td><code>boolean</code></td>
      <td><code>false</code></td>
      <td>If <code>true</code>, uses main container spacing (larger gaps for page-level sections)</td>
    </tr>
    <tr>
      <td><code>gap</code></td>
      <td><code>'sm' | 'base' | 'lg'</code></td>
      <td><code>'base'</code></td>
      <td>Gap size between elements</td>
    </tr>
    <tr>
      <td><code>horizontal</code></td>
      <td><code>boolean</code></td>
      <td><code>false</code></td>
      <td>If <code>true</code>, elements align horizontally. Otherwise, vertically (default)</td>
    </tr>
    <tr>
      <td><code>layout</code></td>
      <td><code>'default' | 'expand-first' | 'expand-all' | 'space-between'</code></td>
      <td><code>'default'</code></td>
      <td>Layout behavior for horizontal containers (controls how child elements expand). Only applies when <code>horizontal</code> is <code>true</code></td>
    </tr>
    <tr>
      <td><code>alignItems</code></td>
      <td><code>'start' | 'center' | 'end' | 'stretch' | 'baseline'</code></td>
      <td><code>'stretch'</code> for vertical, <code>'center'</code> for horizontal</td>
      <td>Alignment of child elements on the cross-axis. In vertical containers: horizontal alignment (left/center/right). In horizontal containers: vertical alignment (top/center/bottom)</td>
    </tr>
    <tr>
      <td><code>tag</code></td>
      <td><code>string</code></td>
      <td><code>'div'</code></td>
      <td>HTML tag to use for the container element</td>
    </tr>
  </tbody>
</table>

## Gap Sizes

The component uses CSS custom properties for consistent spacing across the design system.

### Main Containers (`main={true}`)

<table>
  <thead>
    <tr>
      <th>Size</th>
      <th>CSS Variable</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>sm</code></td>
      <td><code>--main-content-sm</code></td>
      <td>32px</td>
    </tr>
    <tr>
      <td><code>base</code></td>
      <td><code>--main-content-base</code></td>
      <td>48px</td>
    </tr>
    <tr>
      <td><code>lg</code></td>
      <td><code>--main-content-lg</code></td>
      <td>64px</td>
    </tr>
  </tbody>
</table>

### Section Containers (`main={false}` or default)

<table>
  <thead>
    <tr>
      <th>Size</th>
      <th>CSS Variable</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>none</code></td>
      <td><code>--section-content-none</code></td>
      <td>0px</td>
    </tr>
    <tr>
      <td><code>xs</code></td>
      <td><code>--section-content-xs</code></td>
      <td>8px</td>
    </tr>
    <tr>
      <td><code>sm</code></td>
      <td><code>--section-content-sm</code></td>
      <td>16px</td>
    </tr>
    <tr>
      <td><code>base</code></td>
      <td><code>--section-content-base</code></td>
      <td>24px</td>
    </tr>
    <tr>
      <td><code>lg</code></td>
      <td><code>--section-content-lg</code></td>
      <td>32px</td>
    </tr>
  </tbody>
</table>

**Main containers** are intended for page-level sections and use larger spacing values.

**Section containers** are for content within sections and use smaller spacing values, with additional `none` and `xs` options for tighter layouts.

## Orientation Behavior

### Vertical (default)

- Elements stack vertically
- Gap is applied between elements vertically
- Special spacing for consecutive paragraphs (`p + p`) for improved readability
- Default layout for most use cases
- Default alignment: `alignItems="stretch"` (elements expand to full width)

### Horizontal

- Elements align horizontally in a single row
- Gap is applied between elements horizontally
- No wrapping (`flex-wrap: nowrap`) - elements will shrink to fit
- Ideal for action buttons, inline controls, or horizontal navigation
- Supports layout variants via the `layout` prop (see Layout Behavior section below)
- Default alignment: `alignItems="center"` (vertically centered)

## Layout Behavior (Horizontal Only)

The `layout` prop controls how child elements expand to fill available space in horizontal containers. This prop only works when `horizontal` is `true`.

### Available Layouts

<table>
  <thead>
    <tr>
      <th>Layout</th>
      <th>Status</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>default</code></td>
      <td>Implemented</td>
      <td>All elements maintain their natural size (<code>flex-grow: 0</code>). This is the default behavior.</td>
    </tr>
    <tr>
      <td><code>expand-first</code></td>
      <td>Implemented</td>
      <td>The first element expands to fill available space (<code>flex-grow: 1</code>), while other elements maintain their natural size.</td>
    </tr>
    <tr>
      <td><code>expand-all</code></td>
      <td>Implemented</td>
      <td>All elements expand equally to fill available space (<code>flex-grow: 1</code> on all children).</td>
    </tr>
    <tr>
      <td><code>space-between</code></td>
      <td>Implemented</td>
      <td>Elements are distributed with space between them (<code>justify-content: space-between</code>). Elements maintain their natural size.</td>
    </tr>
    <tr>
      <td><code>expand-last</code></td>
      <td>Future</td>
      <td>The last element will expand to fill available space, while other elements maintain their natural size.</td>
    </tr>
  </tbody>
</table>

### When to Use Each Layout

**`default`**: Use when all elements should maintain their natural size. Good for button groups, navigation items, or any horizontal list where elements should not grow.

**`expand-first`**: Use when you want the first element to take up all remaining space.

**`expand-all`**: Use when you want all elements to have equal width.

**`space-between`**: Use when you want elements to maintain their natural size but be distributed across the available space.

## AlignItems Behavior

The `alignItems` prop controls how child elements are aligned on the **cross-axis** (perpendicular to the main axis).

### For Vertical Containers

Controls **horizontal alignment** of elements:

- **`stretch`** (default): Elements stretch to fill container width
- **`start`**: Elements align to the left
- **`center`**: Elements are centered horizontally
- **`end`**: Elements align to the right
- **`baseline`**: Elements align along their text baseline

### For Horizontal Containers

Controls **vertical alignment** of elements:

- **`start`**: Elements align to the top
- **`center`** (default): Elements are centered vertically
- **`end`**: Elements align to the bottom
- **`stretch`**: Elements stretch to fill container height
- **`baseline`**: Elements align along their text baseline (useful for text)

## Examples

### Nested Containers with Different Gaps

```vue
<template>
  <FzContainer main gap="lg">
    <h1>Page Title</h1>
    
    <FzContainer>
      <h2>Section Title</h2>
      <p>Content paragraph 1</p>
      <p>Content paragraph 2</p>
    </FzContainer>
    
    <FzContainer gap="sm">
      <label>Form Label</label>
      <input type="text" />
      <span>Helper text</span>
    </FzContainer>
  </FzContainer>
</template>
```

### Horizontal Button Group

```vue
<template>
  <FzContainer horizontal gap="sm">
    <button>Cancel</button>
    <button>Save Draft</button>
    <button>Publish</button>
  </FzContainer>
</template>
```

### Custom HTML Tag

```vue
<template>
  <FzContainer tag="form" main>
    <h1>Section Content</h1>
    <p>This container renders as a section element</p>
    <input type="text" />
    <button>Submit</button>
  </FzContainer>
</template>
```

### Layout: Expand First (Task List)

```vue
<template>
  <FzContainer gap="sm">
    <FzContainer horizontal layout="expand-first" gap="base">
      <FzContainer gap="sm">
        <p>Task name that can be very long</p>
        <p>Task description that will expand to fill available space</p>
      </FzContainer>
      <button>Complete</button>
    </FzContainer>
    
    <FzContainer horizontal layout="expand-first" gap="base">
      <FzContainer gap="sm">
        <p>Another task</p>
        <p>With another description</p>
      </FzContainer>
      <button>Complete</button>
    </FzContainer>
  </FzContainer>
</template>
```

### Layout: Expand First (Form Actions)

```vue
<template>
  <FzContainer gap="base">
    <input type="text" placeholder="Form field..." />
    <input type="text" placeholder="Another field..." />
    
    <!-- Actions aligned to the right -->
    <FzContainer horizontal layout="expand-first" gap="base">
      <FzContainer></FzContainer>
      <FzContainer horizontal gap="sm">
        <button>Cancel</button>
        <button>Save</button>
      </FzContainer>
    </FzContainer>
  </FzContainer>
</template>
```

### Layout: Expand All

```vue
<template>
  <FzContainer horizontal layout="expand-all" gap="base">
    <button>Button 1</button>
    <button>Button 2</button>
    <button>Button 3</button>
  </FzContainer>
</template>
```

### Layout: Expand All

```vue
<template>
  <FzContainer horizontal layout="expand-all" gap="lg">
    <div class="card">
      <h3>Card 1</h3>
      <p>Content here</p>
    </div>
    <div class="card">
      <h3>Card 2</h3>
      <p>Content here</p>
    </div>
    <div class="card">
      <h3>Card 3</h3>
      <p>Content here</p>
    </div>
  </FzContainer>
</template>
```

### Layout: Space Between

```vue
<template>
  <FzContainer horizontal layout="space-between" gap="base">
    <div class="logo">Logo</div>
    <nav>
      <FzContainer horizontal gap="sm">
        <a href="#">Home</a>
        <a href="#">About</a>
        <a href="#">Contact</a>
      </FzContainer>
    </nav>
  </FzContainer>
</template>
```

### Layout: Space Between

```vue
<template>
  <FzContainer horizontal layout="space-between" gap="base">
    <FzContainer gap="xs">
      <h1>Page Title</h1>
      <p>Subtitle or description</p>
    </FzContainer>
    <FzContainer horizontal gap="sm">
      <button>Cancel</button>
      <button>Save</button>
    </FzContainer>
  </FzContainer>
</template>
```

### AlignItems: Vertical Container with Center Alignment

```vue
<template>
  <FzContainer alignItems="center" gap="base">
    <h1>Centered Title</h1>
    <p>Centered paragraph</p>
    <button>Centered button</button>
  </FzContainer>
</template>
```

### AlignItems: Vertical Container with Right Alignment

```vue
<template>
  <FzContainer alignItems="end" gap="sm">
    <p>Amount: €100</p>
    <p>Tax: €22</p>
    <p>Total: €122</p>
  </FzContainer>
</template>
```

### AlignItems: Horizontal Container with Top Alignment

```vue
<template>
  <FzContainer horizontal alignItems="start" gap="base">
    <img src="icon.png" style="height: 40px" />
    <div>
      <h3>Title</h3>
      <p>Description</p>
    </div>
  </FzContainer>
</template>
```

### AlignItems: Horizontal Container with Baseline Alignment

```vue
<template>
  <FzContainer horizontal alignItems="baseline" gap="base">
    <span style="font-size: 0.75rem">Small text</span>
    <span style="font-size: 1rem">Medium text</span>
    <span style="font-size: 1.5rem">Large text</span>
  </FzContainer>
</template>
```

## Accessibility

The component renders semantic HTML and can be customized using the `tag` prop to use appropriate semantic elements (e.g., `section`, `article`, `form`) based on your content structure.
