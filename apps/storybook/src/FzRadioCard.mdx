import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Documentation/Form/FzRadioCard" />

# FzRadioCard

A card-based radio button component with a larger target area, ideal for selecting options that require more visual context. Supports images, titles, subtitles, and tooltips.

## Features

- **Two Orientations**: Horizontal (default) and vertical layouts
- **Two Sizes**: Small (sm) and medium (md)
- **Image Support**: Optional image display with customizable dimensions
- **Rich Content**: Title and optional subtitle text
- **Tooltip Support**: Optional tooltip for additional information
- **Radio Icon Control**: Show or hide the radio icon with `hasRadio` prop
- **Multiple Tones**: Neutral, emphasis, and error states
- **Full Accessibility**: WCAG 2.1 AA compliant

## Installation

```bash
npm install @fiscozen/radio
# or
pnpm add @fiscozen/radio
```

## Basic Usage

### Horizontal Orientation (Default)

```vue
<script setup lang="ts">
import { FzRadioCard } from '@fiscozen/radio'
import { ref } from 'vue'

const selected = ref('option1')
</script>

<template>
  <FzRadioCard 
    label="Plan" 
    title="Basic Plan"
    subtitle="Perfect for individuals"
    value="option1" 
    v-model="selected"
    orientation="horizontal"
  />
</template>
```

### Vertical Orientation

```vue
<template>
  <FzRadioCard 
    label="Plan" 
    title="Pro Plan"
    subtitle="For small teams"
    value="option2" 
    v-model="selected"
    orientation="vertical"
    imageUrl="/path/to/image.jpg"
  />
</template>
```

### Within Radio Group

```vue
<script setup lang="ts">
import { FzRadioGroup, FzRadioCard } from '@fiscozen/radio'
import { ref } from 'vue'

const selected = ref('plan1')
</script>

<template>
  <FzRadioGroup label="Select a plan" v-slot="{ radioGroupProps }">
    <FzRadioCard 
      label="Basic" 
      title="Basic Plan"
      subtitle="Perfect for individuals"
      value="plan1" 
      v-model="selected" 
      v-bind="radioGroupProps"
      orientation="horizontal"
    />
    <FzRadioCard 
      label="Pro" 
      title="Pro Plan"
      subtitle="For small teams"
      value="plan2" 
      v-model="selected" 
      v-bind="radioGroupProps"
      orientation="horizontal"
    />
  </FzRadioGroup>
</template>
```

## Props

<table>
  <thead>
    <tr>
      <th>Prop</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>label</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>Text label for the radio card (used for accessibility)</td>
    </tr>
    <tr>
      <td><code>title</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>Main title text displayed in the card (required)</td>
    </tr>
    <tr>
      <td><code>subtitle</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>Optional subtitle text displayed below the title</td>
    </tr>
    <tr>
      <td><code>value</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>The value of the radio card</td>
    </tr>
    <tr>
      <td><code>modelValue</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>Value of the currently selected radio card (v-model)</td>
    </tr>
    <tr>
      <td><code>orientation</code></td>
      <td><code>'horizontal' | 'vertical'</code></td>
      <td><code>'horizontal'</code></td>
      <td>Layout orientation: horizontal arranges content in a row, vertical stacks content</td>
    </tr>
    <tr>
      <td><code>tone</code></td>
      <td><code>'neutral' | 'emphasis' | 'error'</code></td>
      <td><code>'emphasis'</code></td>
      <td>The tone/variant of the radio card. Determines visual styling</td>
    </tr>
    <tr>
      <td><code>imageUrl</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>URL of the image to display in the card</td>
    </tr>
    <tr>
      <td><code>imageAlt</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>Alt text for the image (accessibility)</td>
    </tr>
    <tr>
      <td><code>tooltip</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>Text to display in the tooltip icon</td>
    </tr>
    <tr>
      <td><code>tooltipStatus</code></td>
      <td><code>'neutral' | 'informative' | 'positive' | 'alert' | 'error'</code></td>
      <td><code>'neutral'</code></td>
      <td>Status of the tooltip (determines color and icon)</td>
    </tr>
    <tr>
      <td><code>hasRadio</code></td>
      <td><code>boolean</code></td>
      <td><code>true</code></td>
      <td>Controls whether the radio icon is shown</td>
    </tr>
    <tr>
      <td><code>disabled</code></td>
      <td><code>boolean</code></td>
      <td><code>false</code></td>
      <td>If true, the radio card will be disabled</td>
    </tr>
    <tr>
      <td><code>name</code></td>
      <td><code>string</code></td>
      <td>-</td>
      <td>The name of the radio button group</td>
    </tr>
    <tr>
      <td><code>required</code></td>
      <td><code>boolean</code></td>
      <td><code>false</code></td>
      <td>If the radio card is required</td>
    </tr>
  </tbody>
</table>

**Deprecated Props:**

- `radioIcon` (`boolean | function`): Use `hasRadio` instead
- `size` (`'sm' | 'md'`): will always be 'md'

## Slots

<table>
  <thead>
    <tr>
      <th>Slot</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>error</code></td>
      <td>Error message content (shown when <code>tone="error"</code>)</td>
    </tr>
  </tbody>
</table>

## Usage Examples

### Horizontal Orientation

```vue
<template>
  <FzRadioCard 
    label="Plan" 
    title="Basic Plan"
    subtitle="Perfect for individuals"
    value="basic" 
    v-model="selected"
    orientation="horizontal"
  />
</template>
```

### Vertical Orientation

```vue
<template>
  <FzRadioCard 
    label="Plan" 
    title="Pro Plan"
    subtitle="For small teams"
    value="pro" 
    v-model="selected"
    orientation="vertical"
    imageUrl="/path/to/image.jpg"
  />
</template>
```

### With Image

```vue
<template>
  <!-- Horizontal with square image -->
  <FzRadioCard 
    label="Plan" 
    title="Basic Plan"
    subtitle="Perfect for individuals"
    value="basic" 
    v-model="selected"
    orientation="horizontal"
    imageUrl="/path/to/image.jpg"
    imageAlt="Basic plan illustration"
  />
  
  <!-- Vertical with wide image -->
  <FzRadioCard 
    label="Plan" 
    title="Pro Plan"
    subtitle="For small teams"
    value="pro" 
    v-model="selected"
    orientation="vertical"
    imageUrl="/path/to/image.jpg"
    imageAlt="Pro plan illustration"
  />
</template>
```

### With Tooltip

```vue
<template>
  <FzRadioCard 
    label="Plan" 
    title="Enterprise Plan"
    subtitle="For large organizations"
    value="enterprise" 
    v-model="selected"
    orientation="horizontal"
    tooltip="Includes 24/7 support and dedicated account manager"
    tooltipStatus="informative"
  />
</template>
```

### Without Radio Icon

```vue
<template>
  <FzRadioCard 
    label="Plan" 
    title="Basic Plan"
    subtitle="Perfect for individuals"
    value="basic" 
    v-model="selected"
    orientation="horizontal"
    :hasRadio="false"
  />
</template>
```

### Size Variants

```vue
<template>
  <!-- Small -->
  <FzRadioCard 
    label="Plan" 
    title="Basic Plan"
    subtitle="Perfect for individuals"
    value="basic" 
    v-model="selected"
    size="sm"
    orientation="horizontal"
  />
  
  <!-- Medium (default) -->
  <FzRadioCard 
    label="Plan" 
    title="Pro Plan"
    subtitle="For small teams"
    value="pro" 
    v-model="selected"
    size="md"
    orientation="horizontal"
  />
</template>
```

### Tone Variants

#### Neutral

```vue
<FzRadioCard 
  label="Plan" 
  title="Basic Plan"
  value="basic" 
  v-model="selected"
  tone="neutral"
/>
```

#### Emphasis (Default)

```vue
<FzRadioCard 
  label="Plan" 
  title="Pro Plan"
  value="pro" 
  v-model="selected"
  tone="emphasis"
/>
```

#### Error

```vue
<FzRadioCard 
  label="Plan" 
  title="Invalid Plan"
  value="invalid" 
  v-model="selected"
  tone="error"
>
  <template #error>
    This plan is no longer available
  </template>
</FzRadioCard>
```

### Disabled State

```vue
<FzRadioCard 
  label="Plan" 
  title="Basic Plan"
  subtitle="Perfect for individuals"
  value="basic" 
  v-model="selected"
  disabled
/>
```

### Complete Example

```vue
<script setup lang="ts">
import { FzRadioGroup, FzRadioCard } from '@fiscozen/radio'
import { ref } from 'vue'

const selectedPlan = ref('basic')
</script>

<template>
  <FzRadioGroup label="Select your plan" v-slot="{ radioGroupProps }">
    <FzRadioCard 
      label="Basic" 
      title="Basic Plan"
      subtitle="Perfect for individuals and small projects"
      value="basic" 
      v-model="selectedPlan" 
      v-bind="radioGroupProps"
      orientation="horizontal"
      imageUrl="/images/basic-plan.jpg"
      tooltip="Includes basic features and email support"
      tooltipStatus="informative"
    />
    
    <FzRadioCard 
      label="Pro" 
      title="Pro Plan"
      subtitle="For growing teams and businesses"
      value="pro" 
      v-model="selectedPlan" 
      v-bind="radioGroupProps"
      orientation="horizontal"
      imageUrl="/images/pro-plan.jpg"
      tooltip="Includes all basic features plus priority support"
      tooltipStatus="positive"
    />
    
    <FzRadioCard 
      label="Enterprise" 
      title="Enterprise Plan"
      subtitle="For large organizations"
      value="enterprise" 
      v-model="selectedPlan" 
      v-bind="radioGroupProps"
      orientation="horizontal"
      imageUrl="/images/enterprise-plan.jpg"
      tooltip="Custom pricing and dedicated support"
      tooltipStatus="informative"
    />
  </FzRadioGroup>
</template>
```

## Image Dimensions

### Horizontal Orientation
- Image size: 58x58px (square)
- Card width: 360px (md) or 280px (sm)

### Vertical Orientation
- Image size: 336x252px (16:9 aspect ratio)
- Card width: 360px (md) or 280px (sm)

## Accessibility

- **Keyboard Navigation**: Full support for Tab, Space, and Enter keys
- **Screen Readers**: Proper ARIA labels and state announcements
- **Focus Indicators**: Visible focus ring for keyboard navigation
- **Image Alt Text**: Always provide `imageAlt` for images
- **Semantic HTML**: Uses native radio input for proper form behavior
- **WCAG 2.1 AA**: Meets color contrast and accessibility requirements

### ARIA Attributes

- `aria-checked`: Announces checked/unchecked state
- `aria-label`: Provides accessible name from label prop
- `aria-labelledby`: Links to visible title text
- `aria-describedby`: Links to subtitle, tooltip, and error messages
- `aria-required`: Indicates required fields
- `aria-invalid`: Indicates validation errors

## Migration Guide

### From `radioIcon` to `hasRadio`

```vue
<!-- ❌ Deprecated -->
<FzRadioCard 
  label="Plan" 
  title="Basic Plan"
  value="basic" 
  v-model="selected"
  :radioIcon="true"
/>

<!-- ✅ Recommended -->
<FzRadioCard 
  label="Plan" 
  title="Basic Plan"
  value="basic" 
  v-model="selected"
  :hasRadio="true"
/>
```

## Related Components

- **FzRadio**: Standard radio button component
- **FzRadioGroup**: Container for grouping radio cards
- **FzTooltip**: Used internally for tooltip functionality
- **FzAlert**: Used for error message display

